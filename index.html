<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Advanced Merch Amazon Research Tool</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/bootstrap/4.6.2/css/bootstrap.min.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/all.min.css">
    <style>
        :root {
    --primary-color: #232f3e;
    --secondary-color: #ff9900;
    --light-color: #f8f9fa;
    --dark-color: #343a40;
    --border-color: #ddd;
    --hover-color: #e68a00;
    --box-shadow: 0 2px 10px rgba(0, 0, 0, 0.1);
}

body {
    background-color: #f5f5f5;
    color: #333;
    line-height: 1.6;
    padding-bottom: 30px;
    overflow-x: hidden;
    font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, "Helvetica Neue", Arial, sans-serif;
}

.header-section {
    background-color: var(--primary-color);
    color: white;
    padding: 1.5rem 0;
    margin-bottom: 1.5rem;
    box-shadow: 0 3px 8px rgba(0, 0, 0, 0.15);
}

.header-title {
    font-size: 2rem;
    font-weight: 700;
    margin-bottom: 0.3rem;
}

.header-subtitle {
    font-size: 1.1rem;
    opacity: 0.9;
}

.logo-highlight {
    color: var(--secondary-color);
    font-weight: 800;
}

.search-section {
    background-color: white;
    border-radius: 10px;
    box-shadow: var(--box-shadow);
    padding: 1.5rem;
    margin-bottom: 1.5rem;
    border: 1px solid var(--border-color);
}

.search-button {
    background-color: var(--secondary-color);
    color: var(--dark-color);
    font-weight: bold;
    border: none;
    padding: 12px 25px;
    border-radius: 6px;
    cursor: pointer;
    transition: all 0.2s ease;
    width: 100%;
    text-transform: uppercase;
    letter-spacing: 0.5px;
    box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
}

.search-button:hover {
    background-color: var(--hover-color);
    transform: translateY(-2px);
    box-shadow: 0 4px 8px rgba(0, 0, 0, 0.15);
}

.plz_hinweis {
    margin-top: 10px;
    padding: 10px 15px;
    background-color: var(--light-color);
    border: 1px solid var(--border-color);
    border-radius: 6px;
    font-size: 0.95rem;
    transition: all 0.2s ease;
}

.plz_hinweis:hover {
    background-color: #e9ecef;
}

.copy_area {
    cursor: pointer;
    display: flex;
    align-items: center;
    justify-content: space-between;
    padding: 2px 0;
}

.copy_me {
    font-weight: bold;
    color: var(--primary-color);
}

.copied-message {
    display: none;
    color: #28a745;
    font-weight: bold;
    margin-left: 10px;
    animation: fadeIn 0.3s ease;
}

@keyframes fadeIn {
    from { opacity: 0; }
    to { opacity: 1; }
}

.filters-container {
    display: grid;
    grid-template-columns: repeat(auto-fill, minmax(250px, 1fr));
    gap: 20px;
    margin-bottom: 25px;
}

.filter-box {
    background-color: white;
    border-radius: 10px;
    box-shadow: var(--box-shadow);
    padding: 15px;
    border: 1px solid var(--border-color);
    transition: transform 0.2s ease, box-shadow 0.2s ease;
}

.filter-box:hover {
    transform: translateY(-3px);
    box-shadow: 0 5px 15px rgba(0, 0, 0, 0.1);
}

.filter-title {
    font-size: 1rem;
    font-weight: 600;
    margin-bottom: 12px;
    color: var(--primary-color);
    border-bottom: 1px solid #eee;
    padding-bottom: 8px;
    text-transform: uppercase;
    letter-spacing: 0.5px;
    font-size: 0.9rem;
}

.checkbox-group {
    display: flex;
    flex-direction: column;
    gap: 8px;
}

.form-check-label {
    font-size: 0.9rem;
    cursor: pointer;
}

.form-control {
    border-radius: 6px;
    border: 1px solid var(--border-color);
    font-size: 0.9rem;
    padding: 8px 12px;
    transition: border-color 0.2s ease, box-shadow 0.2s ease;
}

.form-control:focus {
    border-color: var(--secondary-color);
    box-shadow: 0 0 0 0.2rem rgba(255, 153, 0, 0.25);
}

select.form-control {
    height: calc(1.5em + 0.75rem + 2px);
    cursor: pointer;
    appearance: none;
    background-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='12' height='12' viewBox='0 0 12 12'%3E%3Cpath fill='%23333' d='M6 8.825l-4.762-4.762L2.175 3.15 6 6.975l3.825-3.825 1.062.913L6 8.825z'/%3E%3C/svg%3E");
    background-repeat: no-repeat;
    background-position: right 10px center;
    padding-right: 30px;
}

.result-url {
    background-color: white;
    border-radius: 10px;
    box-shadow: var(--box-shadow);
    padding: 1.5rem;
    margin-top: 1.5rem;
    border: 1px solid var(--border-color);
    animation: slideUp 0.3s ease;
}

@keyframes slideUp {
    from { 
        opacity: 0;
        transform: translateY(20px);
    }
    to { 
        opacity: 1;
        transform: translateY(0);
    }
}

.url-box {
    background-color: var(--light-color);
    padding: 0.85rem;
    border-radius: 6px;
    border: 1px solid var(--border-color);
    white-space: nowrap;
    overflow-x: auto;
    font-family: monospace;
    font-size: 0.85rem;
    margin-bottom: 1rem;
    color: #495057;
    line-height: 1.5;
}

.action-buttons {
    display: flex;
    gap: 1rem;
}

.btn-copy, .btn-visit {
    padding: 0.5rem 1rem;
    border-radius: 6px;
    font-weight: 600;
    font-size: 0.95rem;
    transition: all 0.2s ease;
    text-align: center;
    box-shadow: 0 2px 5px rgba(0, 0, 0, 0.1);
    display: flex;
    align-items: center;
    justify-content: center;
    flex: 1;
}

.btn-copy {
    background-color: var(--primary-color);
    color: white;
}

.btn-copy:hover {
    background-color: #1a2532;
    color: white;
    transform: translateY(-2px);
    box-shadow: 0 4px 8px rgba(0, 0, 0, 0.15);
}

.btn-visit {
    background-color: var(--secondary-color);
    color: var(--dark-color);
}

.btn-visit:hover {
    background-color: var(--hover-color);
    color: var(--dark-color);
    transform: translateY(-2px);
    box-shadow: 0 4px 8px rgba(0, 0, 0, 0.15);
}

.custom-hidden-keywords {
    font-size: 0.85rem;
}

footer {
    text-align: center;
    padding: 1.5rem 0;
    color: #6c757d;
    font-size: 0.85rem;
    margin-top: 2rem;
    border-top: 1px solid #eee;
    background-color: var(--light-color);
}

/* Responsive adjustments */
@media (max-width: 1200px) {
    .filters-container {
        grid-template-columns: repeat(3, 1fr);
    }
}

@media (max-width: 992px) {
    .filters-container {
        grid-template-columns: repeat(2, 1fr);
    }
    
    .header-title {
        font-size: 1.8rem;
    }
}

@media (max-width: 768px) {
    .search-section, .filter-box, .result-url {
        padding: 1rem;
    }
    
    .header-title {
        font-size: 1.5rem;
    }
    
    .header-subtitle {
        font-size: 0.9rem;
    }
}

@media (max-width: 576px) {
    .filters-container {
        grid-template-columns: 1fr;
    }
    
    .action-buttons {
        flex-direction: column;
    }
}
    </style>
    <link rel="stylesheet" href="styles.css">
</head>
<body>
    <div class="header-section">
        <div class="container">
            <h1 class="text-center header-title">Merch <span class="logo-highlight">Research</span> Tool</h1>
            <p class="text-center header-subtitle mb-0">Find the best Merch By Amazon opportunities with advanced search parameters</p>
        </div>
    </div>
    
    <div class="container-fluid px-4">
        <div class="search-section">
            <form id="searchForm">
                <div class="row">
                    <div class="col-md-4 mb-2">
                        <label for="marketplaceSelect" class="small mb-1">Marketplace</label>
                        <select id="marketplaceSelect" class="form-control">
                            <option value="com">US</option>
                            <option value="co.uk">UK</option>
                            <option value="de">DE</option>
                            <option value="fr">FR</option>
                            <option value="it">IT</option>
                            <option value="es">ES</option>
                            <option value="jp">JP</option>
                            <option value="ca">CA</option>
                        </select>
                    </div>
                    <div class="col-md-4 mb-2">
                        <label for="productTypeSelect" class="small mb-1">Product Type</label>
                        <select id="productTypeSelect" class="form-control">
                            <option value="tshirt">T-SHIRT</option>
                            <option value="longsleeve">LONG SLEEVE</option>
                            <option value="sweatshirt">SWEATSHIRT</option>
                            <option value="hoodie">HOODIE</option>
                            <option value="vneck">V-NECK</option>
                            <option value="raglan">RAGLAN</option>
                            <option value="tanktop">TANK TOP</option>
                            <option value="popsocket">POPSOCKET</option>
                            <option value="case">CASE</option>
                            <option value="throwpillow">THROW PILLOW</option>
                            <option value="totebag">TOTE BAG</option>
                            <option value="custom">CUSTOM</option>
                        </select>
                    </div>
                    <div class="col-md-4 mb-2">
                        <label for="searchInput" class="small mb-1">Search Term</label>
                        <input id="searchInput" type="text" class="form-control" placeholder="Enter keyword or leave blank to see all">
                    </div>
                </div>
                
                <div class="row mt-2">
                    <div class="col-md-8">
                        <div class="plz_hinweis">
                            <div id="copy_to_clipboard">
                                <div class="copy_area" title="Copy ZIP to Clipboard">
                                    Valid ZIP for <span class="plz_helper">.COM: <span class="copy_me">90210</span> (Beverly Hills, CA)</span> 
                                    <i class="fas fa-clipboard" aria-hidden="true"></i>
                                    <span class="copied-message">Copied!</span>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="col-md-4">
                        <button type="submit" class="search-button">SEARCH AMAZON MERCH</button>
                    </div>
                </div>
            </form>
        </div>
        
        <!-- All filters in a horizontal layout -->
        <div class="filters-container">
            <div class="filter-box">
                <div class="filter-title">Time Filters</div>
                <div class="checkbox-group">
                    <div class="form-check">
                        <input class="form-check-input" type="radio" name="timeFilter" id="timeFilterNone" value="" checked>
                        <label class="form-check-label" for="timeFilterNone">None</label>
                    </div>
                    <div class="form-check">
                        <input class="form-check-input" type="radio" name="timeFilter" id="timeFilter30Days" value="p_n_date_first_available_absolute%3A15196852011">
                        <label class="form-check-label" for="timeFilter30Days">Last 30 days</label>
                    </div>
                    <div class="form-check">
                        <input class="form-check-input" type="radio" name="timeFilter" id="timeFilter90Days" value="p_n_date_first_available_absolute%3A15196853011">
                        <label class="form-check-label" for="timeFilter90Days">Last 90 days</label>
                    </div>
                </div>
            </div>
            
            <div class="filter-box">
                <div class="filter-title">Seller Filters</div>
                <div class="checkbox-group">
                    <div class="form-check">
                        <input class="form-check-input" type="checkbox" id="sellerAmazon" value="p_6%3AATVPDKIKX0DER">
                        <label class="form-check-label" for="sellerAmazon">Seller is Amazon</label>
                    </div>
                    <div class="form-check">
                        <input class="form-check-input" type="checkbox" id="reviewsFilter" value="p_72%3A2661618011">
                        <label class="form-check-label" for="reviewsFilter">Reviews 4+</label>
                    </div>
                </div>
            </div>
            
            <div class="filter-box">
                <div class="filter-title">Price Range</div>
                <div class="row">
                    <div class="col-6 pr-1">
                        <input type="number" class="form-control" id="minPrice" min="0" step="1" placeholder="Min $">
                    </div>
                    <div class="col-6 pl-1">
                        <input type="number" class="form-control" id="maxPrice" min="0" step="1" placeholder="Max $">
                    </div>
                </div>
            </div>
            
            <div class="filter-box">
                <div class="filter-title">Sort Order</div>
                <select id="sortOrder" class="form-control">
                    <option value="">Default</option>
                    <option value="most-purchased-rank">Most Purchased (Best Sellers)</option>
                    <option value="exact-aware-popularity-rank">Best Seller Sort</option>
                    <option value="date-desc-rank">Newest Arrivals</option>
                    <option value="date-asc-rank">Oldest First</option>
                    <option value="review-rank">Top Rated</option>
                    <option value="price-desc-rank">Price High to Low</option>
                    <option value="price-asc-rank">Price Low to High</option>
                    <option value="relevancerank">Relevance</option>
                    <option value="relevanceblender">Relevance Blender</option>
                    <option value="featured-rank">Featured</option>
                    <option value="most-wished-for-rank">Most Wished For</option>
                </select>
            </div>
            
            <div class="filter-box" id="departmentCategoryBox" style="display: none;">
                <div class="filter-title">Department & Category</div>
                <select id="department" class="form-control mb-2">
                    <option value="">All Departments</option>
                    <option value="fashion-novelty">Novelty & More</option>
                    <option value="fashion">Clothing, Shoes & Jewelry</option>
                    <!-- 
                    You can add more departments here later. 
                    Format: <option value="department-code">Department Name</option>
                    -->
                </select>
                <select id="category" class="form-control" disabled>
                    <option value="">No Category Filter</option>
                    <!-- Categories will be populated by JavaScript based on department selection -->
                </select>
            </div>
            
            <div class="filter-box">
                <div class="filter-title">Hidden Keywords</div>
                <div class="checkbox-group">
                    <div class="form-check">
                        <input class="form-check-input hidden-keyword-preset" type="checkbox" id="filterBasicTees" value="Lightweight%2C+Classic+fit%2C+Double-needle+sleeve+and+bottom+hem+-Longsleeve+-Raglan+-Vneck+-Tanktop">
                        <label class="form-check-label" for="filterBasicTees">Basic Tees Only</label>
                    </div>
                    <div class="form-check">
                        <input class="form-check-input hidden-keyword-preset" type="checkbox" id="filterCotton" value="100%25+Cotton+-Sweatshirt">
                        <label class="form-check-label" for="filterCotton">100% Cotton (No Sweatshirts)</label>
                    </div>
                    <div class="form-check">
                        <input class="form-check-input" type="checkbox" id="filterExcludeBrands" value="-LyricLyfe+-Disney+-Marvel+-Star Wars+-Mademark+-Harry Potter+-Pixar+-SANRIO+-Elite Authentics+-Barbie+-BATMAN+-Jeff Dunham+-CJ Grips+-BreakingT+-Spongebob SquarePants+-Ballpark MVP+-DC Comics+-Looney Tunes+-SUPER MARIO+-Pokemon+-STAR TREK+-Stranger Things+-Fallout+-MTV+-Beetlejuice+-South Park+-Peanuts+-Hello Kitty+-Miraculous+-Jeep+-Gypsy Queen+-The Rolling Stones+-Transformers+-NEW LINE CINEMA+-Sagittarius Gallery+-Scooby-Doo+-Official High School Fan Gear+-Pink Floyd+-Nickelodeon+-Care Bears">
                        <label class="form-check-label" for="filterExcludeBrands">Exclude Major Brands</label>
                    </div>
                    <div class="mt-1">
                        <input type="text" class="form-control custom-hidden-keywords" id="customHiddenKeywords" placeholder="Custom hidden keywords">
                        <small class="form-text text-muted" style="font-size: 0.75rem;">Add + before each word to exclude</small>
                    </div>
                </div>
            </div>
        </div>
        
        <div class="result-url" id="resultUrlContainer" style="display: none;">
            <h5 class="mb-2">Generated Amazon URL</h5>
            <div class="url-box" id="generatedUrl"></div>
            <div class="action-buttons">
                <button id="copyUrlBtn" class="btn btn-copy">Copy URL</button>
                <a id="visitUrlBtn" href="#" target="_blank" class="btn btn-visit">Visit Amazon</a>
            </div>
        </div>
    </div>
    
    <footer>
        <div class="container">
            <p>Â© 2025 Merch Research Tool. Created for personal research purposes.</p>
        </div>
    </footer>

    <script>
        document.addEventListener('DOMContentLoaded', function() {
    // Cache DOM elements
    const searchForm = document.getElementById('searchForm');
    const copyUrlBtn = document.getElementById('copyUrlBtn');
    const resultUrlContainer = document.getElementById('resultUrlContainer');
    const generatedUrlEl = document.getElementById('generatedUrl');
    const visitUrlBtn = document.getElementById('visitUrlBtn');
    const marketplaceSelect = document.getElementById('marketplaceSelect');
    const copyZipBtn = document.querySelector('.copy_area');
    const copyMessage = document.querySelector('.copied-message');
    const productTypeSelect = document.getElementById('productTypeSelect');
    const departmentCategoryBox = document.getElementById('departmentCategoryBox');
    const departmentSelect = document.getElementById('department');
    const categorySelect = document.getElementById('category');
    const basicTeesCheckbox = document.getElementById('filterBasicTees');
    
    // Define Amazon categories structure
    const amazonCategories = {
        'fashion': [
            { value: '7141123011', text: 'Men\'s Clothing' },
            { value: '1040660', text: 'Women\'s Clothing' },
            { value: '9056922011', text: 'Women\'s Novelty Tops & Tees' },
            { value: '12035955011', text: 'Men\'s Novelty T-Shirts' },
            { value: '1040658', text: 'Boys\' Clothing' },
            { value: '1040664', text: 'Girls\' Clothing' }
        ],
        'fashion-novelty': [] // No specific categories for Novelty & More
    };
    
    // Product type hidden keyword mappings
    // You can add more product type specific filters here
    const productTypeKeywords = {
        'tshirt': 'Lightweight%2C+Classic+fit%2C+Double-needle+sleeve+and+bottom+hem+-Longsleeve+-Raglan+-Vneck+-Tanktop',
        'longsleeve': 'Long+sleeve%2C+Classic+fit%2C+Double-needle+sleeve+and+bottom+hem',
        'sweatshirt': 'Sweatshirt+Fleece%2C+Classic+fit%2C+Twill-taped+neck',
        'hoodie': 'Hoodie+Fleece%2C+Classic+fit%2C+Twill-taped+neck',
        // Add more product type specific filters as needed
        // 'product_type': 'corresponding hidden keywords',
    };
    
    // ZIP codes for different marketplaces
    const zipCodes = {
        'com': { zip: '90210', location: 'Beverly Hills, CA' },
        'co.uk': { zip: 'E1 6AN', location: 'London' },
        'de': { zip: '10115', location: 'Berlin' },
        'fr': { zip: '75001', location: 'Paris' },
        'it': { zip: '00100', location: 'Rome' },
        'es': { zip: '28001', location: 'Madrid' },
        'jp': { zip: '100-0001', location: 'Tokyo' },
        'ca': { zip: 'M5V 2A8', location: 'Toronto, ON' }
    };
    
    // Initialize the UI
    init();
    
    function init() {
        // Update ZIP code display
        updateZipCode();
        
        // Set up event listeners
        setupEventListeners();
        
        // Initialize product type specific settings
        updateProductTypeSettings();
    }
    
    function setupEventListeners() {
        // Form submission
        searchForm.addEventListener('submit', handleFormSubmit);
        
        // Copy URL button
        copyUrlBtn.addEventListener('click', handleCopyUrl);
        
        // Copy ZIP code
        copyZipBtn.addEventListener('click', handleCopyZip);
        
        // Marketplace change
        marketplaceSelect.addEventListener('change', updateZipCode);
        
        // Product type change
        productTypeSelect.addEventListener('change', function() {
            updateProductTypeSettings();
            toggleDepartmentCategoryBox();
        });
        
        // Department change
        departmentSelect.addEventListener('change', updateCategoryOptions);
        
        // Listen for changes on all form elements
        const formElements = document.querySelectorAll('input, select');
        formElements.forEach(element => {
            element.addEventListener('change', updateUrlIfVisible);
        });
    }
    
    function updateZipCode() {
        const marketplace = marketplaceSelect.value;
        const zipInfo = zipCodes[marketplace];
        const zipHelper = document.querySelector('.plz_helper');
        
        if (zipInfo) {
            zipHelper.innerHTML = `.${marketplace.toUpperCase()}: <span class="copy_me">${zipInfo.zip}</span> (${zipInfo.location})`;
        }
    }
    
    function handleCopyZip() {
        const zipCode = document.querySelector('.copy_me').textContent;
        navigator.clipboard.writeText(zipCode).then(function() {
            copyMessage.style.display = 'inline';
            setTimeout(() => {
                copyMessage.style.display = 'none';
            }, 2000);
        });
    }
    
    function handleFormSubmit(e) {
        e.preventDefault();
        
        // Generate and display the URL
        const amazonUrl = generateAmazonUrl();
        generatedUrlEl.textContent = amazonUrl;
        resultUrlContainer.style.display = 'block';
        visitUrlBtn.href = amazonUrl;
        
        // Scroll to the result
        resultUrlContainer.scrollIntoView({ behavior: 'smooth' });
    }
    
    function handleCopyUrl() {
        const urlText = generatedUrlEl.textContent;
        navigator.clipboard.writeText(urlText).then(function() {
            copyUrlBtn.textContent = 'Copied!';
            setTimeout(function() {
                copyUrlBtn.textContent = 'Copy URL';
            }, 2000);
        });
    }
    
    function updateUrlIfVisible() {
        if (resultUrlContainer.style.display !== 'none') {
            const amazonUrl = generateAmazonUrl();
            generatedUrlEl.textContent = amazonUrl;
            visitUrlBtn.href = amazonUrl;
        }
    }
    
    function toggleDepartmentCategoryBox() {
        const isCustom = productTypeSelect.value === 'custom';
        departmentCategoryBox.style.display = isCustom ? 'block' : 'none';
    }
    
    function updateCategoryOptions() {
        const department = departmentSelect.value;
        
        // Clear current options
        categorySelect.innerHTML = '<option value="">No Category Filter</option>';
        
        // Disable category if "All Departments" is selected
        if (!department) {
            categorySelect.disabled = true;
            return;
        }
        
        // Enable category and add options based on department
        categorySelect.disabled = false;
        const categories = amazonCategories[department] || [];
        
        categories.forEach(category => {
            const option = document.createElement('option');
            option.value = category.value;
            option.textContent = category.text;
            categorySelect.appendChild(option);
        });
    }
    
    function updateProductTypeSettings() {
        const productType = productTypeSelect.value;
        
        // Auto-check "Basic Tees Only" for t-shirts
        if (productType === 'tshirt') {
            basicTeesCheckbox.checked = true;
        }
        
        // You could set other product type specific settings here
    }
    
    function generateAmazonUrl() {
        // Get base marketplace
        const marketplace = marketplaceSelect.value;
        let baseUrl = `https://amazon.${marketplace}`;
        
        // Get search query
        const searchQuery = document.getElementById('searchInput').value.trim();
        
        // Initialize parameters array to join with & later
        let paramParts = [];
        
        // Add search term if provided
        if (searchQuery) {
            paramParts.push(`k=${encodeURIComponent(searchQuery)}`);
        }
        
        // Collection for rh parameters
        let rhParams = [];
        
        // Add time filter
        const timeFilter = document.querySelector('input[name="timeFilter"]:checked').value;
        if (timeFilter) {
            rhParams.push(timeFilter);
        }
        
        // Add seller filter
        const sellerAmazon = document.getElementById('sellerAmazon').checked;
        if (sellerAmazon) {
            rhParams.push(document.getElementById('sellerAmazon').value);
        }
    </script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.6.0/jquery.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/bootstrap/4.6.2/js/bootstrap.bundle.min.js"></script>
    <script src="script.js"></script>
</body>
</html>
